{"version":3,"sources":["_Declaration.js"],"names":[],"mappings":"AAAA;AACA,IAAI,YAAJ;;AAEA,OAAO,OAAP,GAAiB,eAAgB,YAAW;AAC1C,MAAI,IAAJ;;AAEA,SAAO,YAAP;;AAEA,eAAa,iBAAb,GAAiC,kBAAjC;;AAEA,eAAa,OAAb,GAAuB,UAAS,YAAT,EAAuB,IAAvB,EAA6B,GAA7B,EAAkC;AACvD,QAAI,GAAJ;AACA,QAAI,EAAE,MAAM,aAAa,IAAb,CAAR,CAAJ,EAAiC;AAC/B,aAAO,aAAa,IAAb,IAAqB,IAAI,IAAJ,CAAS,IAAT,EAAe,GAAf,CAA5B;AACD,KAFD,MAEO;AACL,aAAO,IAAI,GAAJ,CAAQ,GAAR,CAAP;AACD;AACF,GAPD;;AASA,eAAa,aAAb,GAA6B,UAAS,GAAT,EAAc;AACzC,WAAO,OAAO,GAAP,EAAY,IAAZ,GAAmB,OAAnB,CAA2B,QAA3B,EAAqC,GAArC,CAAP;AACD,GAFD;;AAIA,eAAa,cAAb,GAA8B,KAA9B;;AAEA,WAAS,YAAT,CAAsB,KAAtB,EAA6B,GAA7B,EAAkC;AAChC,SAAK,IAAL,GAAY,KAAZ;AACA,SAAK,SAAL,GAAiB,KAAjB;AACA,SAAK,GAAL,CAAS,GAAT;AACD;;AAED,eAAa,SAAb,CAAuB,GAAvB,GAA6B,YAAW;AACtC,WAAO,KAAK,IAAL,EAAP;AACD,GAFD;;AAIA,eAAa,SAAb,CAAuB,IAAvB,GAA8B,YAAW;AACvC,WAAO,KAAK,GAAZ;AACD,GAFD;;AAIA,eAAa,SAAb,CAAuB,oBAAvB,GAA8C,UAAS,GAAT,EAAc;AAC1D,QAAI,KAAK,iBAAL,CAAuB,IAAvB,CAA4B,OAAO,GAAP,CAA5B,CAAJ,EAA8C;AAC5C,WAAK,SAAL,GAAiB,IAAjB;AACA,aAAO,IAAI,OAAJ,CAAY,KAAK,iBAAjB,EAAoC,EAApC,CAAP;AACD,KAHD,MAGO;AACL,WAAK,SAAL,GAAiB,KAAjB;AACA,aAAO,GAAP;AACD;AACF,GARD;;AAUA,eAAa,SAAb,CAAuB,GAAvB,GAA6B,UAAS,GAAT,EAAc;AACzC,UAAM,KAAK,aAAL,CAAmB,GAAnB,CAAN;AACA,UAAM,KAAK,oBAAL,CAA0B,GAA1B,CAAN;AACA,UAAM,IAAI,IAAJ,EAAN;AACA,QAAI,KAAK,oBAAL,CAA0B,GAA1B,CAAJ,EAAoC;AAClC,aAAO,IAAP;AACD;AACD,SAAK,IAAL,CAAU,GAAV;AACA,WAAO,IAAP;AACD,GATD;;AAWA,eAAa,SAAb,CAAuB,IAAvB,GAA8B,UAAS,GAAT,EAAc;AAC1C,WAAO,KAAK,GAAL,GAAW,GAAlB;AACD,GAFD;;AAIA,eAAa,SAAb,CAAuB,oBAAvB,GAA8C,UAAS,GAAT,EAAc;AAC1D,QAAI,QAAQ,EAAZ,EAAgB;AACd,WAAK,GAAL,GAAW,EAAX;AACA,aAAO,IAAP;AACD;AACD,QAAI,QAAQ,SAAZ,EAAuB;AACrB,UAAI,KAAK,WAAL,CAAiB,cAArB,EAAqC;AACnC,aAAK,GAAL,GAAW,SAAX;AACD,OAFD,MAEO;AACL,cAAM,MAAM,iCAAiC,KAAK,IAAtC,GAA6C,GAAnD,CAAN;AACD;AACD,aAAO,IAAP;AACD,KAPD,MAOO;AACL,aAAO,KAAP;AACD;AACF,GAfD;;AAiBA,SAAO,YAAP;AAED,CAhF+B,EAAhC","file":"_Declaration-compiled.js","sourcesContent":["// Generated by CoffeeScript 1.9.3\nvar _Declaration;\n\nmodule.exports = _Declaration = (function() {\n  var self;\n\n  self = _Declaration;\n\n  _Declaration.importantClauseRx = /(\\s\\!important)$/;\n\n  _Declaration.setOnto = function(declarations, prop, val) {\n    var dec;\n    if (!(dec = declarations[prop])) {\n      return declarations[prop] = new this(prop, val);\n    } else {\n      return dec.set(val);\n    }\n  };\n\n  _Declaration.sanitizeValue = function(val) {\n    return String(val).trim().replace(/[\\s]+/g, ' ');\n  };\n\n  _Declaration.inheritAllowed = false;\n\n  function _Declaration(prop1, val) {\n    this.prop = prop1;\n    this.important = false;\n    this.set(val);\n  }\n\n  _Declaration.prototype.get = function() {\n    return this._get();\n  };\n\n  _Declaration.prototype._get = function() {\n    return this.val;\n  };\n\n  _Declaration.prototype._pickImportantClause = function(val) {\n    if (self.importantClauseRx.test(String(val))) {\n      this.important = true;\n      return val.replace(self.importantClauseRx, '');\n    } else {\n      this.important = false;\n      return val;\n    }\n  };\n\n  _Declaration.prototype.set = function(val) {\n    val = self.sanitizeValue(val);\n    val = this._pickImportantClause(val);\n    val = val.trim();\n    if (this._handleNullOrInherit(val)) {\n      return this;\n    }\n    this._set(val);\n    return this;\n  };\n\n  _Declaration.prototype._set = function(val) {\n    return this.val = val;\n  };\n\n  _Declaration.prototype._handleNullOrInherit = function(val) {\n    if (val === '') {\n      this.val = '';\n      return true;\n    }\n    if (val === 'inherit') {\n      if (this.constructor.inheritAllowed) {\n        this.val = 'inherit';\n      } else {\n        throw Error(\"Inherit is not allowed for `\" + this.prop + \"`\");\n      }\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  return _Declaration;\n\n})();\n"]}