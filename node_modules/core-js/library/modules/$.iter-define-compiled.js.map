{"version":3,"sources":["$.iter-define.js"],"names":[],"mappings":"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","file":"$.iter-define-compiled.js","sourcesContent":["'use strict';\nvar LIBRARY        = require('./$.library')\n  , $export        = require('./$.export')\n  , redefine       = require('./$.redefine')\n  , hide           = require('./$.hide')\n  , has            = require('./$.has')\n  , Iterators      = require('./$.iterators')\n  , $iterCreate    = require('./$.iter-create')\n  , setToStringTag = require('./$.set-to-string-tag')\n  , getProto       = require('./$').getProto\n  , ITERATOR       = require('./$.wks')('iterator')\n  , BUGGY          = !([].keys && 'next' in [].keys()) // Safari has buggy iterators w/o `next`\n  , FF_ITERATOR    = '@@iterator'\n  , KEYS           = 'keys'\n  , VALUES         = 'values';\n\nvar returnThis = function(){ return this; };\n\nmodule.exports = function(Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED){\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function(kind){\n    if(!BUGGY && kind in proto)return proto[kind];\n    switch(kind){\n      case KEYS: return function keys(){ return new Constructor(this, kind); };\n      case VALUES: return function values(){ return new Constructor(this, kind); };\n    } return function entries(){ return new Constructor(this, kind); };\n  };\n  var TAG        = NAME + ' Iterator'\n    , DEF_VALUES = DEFAULT == VALUES\n    , VALUES_BUG = false\n    , proto      = Base.prototype\n    , $native    = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT]\n    , $default   = $native || getMethod(DEFAULT)\n    , methods, key;\n  // Fix native\n  if($native){\n    var IteratorPrototype = getProto($default.call(new Base));\n    // Set @@toStringTag to native iterators\n    setToStringTag(IteratorPrototype, TAG, true);\n    // FF fix\n    if(!LIBRARY && has(proto, FF_ITERATOR))hide(IteratorPrototype, ITERATOR, returnThis);\n    // fix Array#{values, @@iterator}.name in V8 / FF\n    if(DEF_VALUES && $native.name !== VALUES){\n      VALUES_BUG = true;\n      $default = function values(){ return $native.call(this); };\n    }\n  }\n  // Define iterator\n  if((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])){\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG]  = returnThis;\n  if(DEFAULT){\n    methods = {\n      values:  DEF_VALUES  ? $default : getMethod(VALUES),\n      keys:    IS_SET      ? $default : getMethod(KEYS),\n      entries: !DEF_VALUES ? $default : getMethod('entries')\n    };\n    if(FORCED)for(key in methods){\n      if(!(key in proto))redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};"]}