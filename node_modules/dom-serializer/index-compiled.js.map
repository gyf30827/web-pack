{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["/*\n  Module dependencies\n*/\nvar ElementType = require('domelementtype');\nvar entities = require('entities');\n\n/*\n  Boolean Attributes\n*/\nvar booleanAttributes = {\n  __proto__: null,\n  allowfullscreen: true,\n  async: true,\n  autofocus: true,\n  autoplay: true,\n  checked: true,\n  controls: true,\n  default: true,\n  defer: true,\n  disabled: true,\n  hidden: true,\n  ismap: true,\n  loop: true,\n  multiple: true,\n  muted: true,\n  open: true,\n  readonly: true,\n  required: true,\n  reversed: true,\n  scoped: true,\n  seamless: true,\n  selected: true,\n  typemustmatch: true\n};\n\nvar unencodedElements = {\n  __proto__: null,\n  style: true,\n  script: true,\n  xmp: true,\n  iframe: true,\n  noembed: true,\n  noframes: true,\n  plaintext: true,\n  noscript: true\n};\n\n/*\n  Format attributes\n*/\nfunction formatAttrs(attributes, opts) {\n  if (!attributes) return;\n\n  var output = '',\n      value;\n\n  // Loop through the attributes\n  for (var key in attributes) {\n    value = attributes[key];\n    if (output) {\n      output += ' ';\n    }\n\n    if (!value && booleanAttributes[key]) {\n      output += key;\n    } else {\n      output += key + '=\"' + (opts.decodeEntities ? entities.encodeXML(value) : value) + '\"';\n    }\n  }\n\n  return output;\n}\n\n/*\n  Self-enclosing tags (stolen from node-htmlparser)\n*/\nvar singleTag = {\n  __proto__: null,\n  area: true,\n  base: true,\n  basefont: true,\n  br: true,\n  col: true,\n  command: true,\n  embed: true,\n  frame: true,\n  hr: true,\n  img: true,\n  input: true,\n  isindex: true,\n  keygen: true,\n  link: true,\n  meta: true,\n  param: true,\n  source: true,\n  track: true,\n  wbr: true,\n};\n\n\nvar render = module.exports = function(dom, opts) {\n  if (!Array.isArray(dom) && !dom.cheerio) dom = [dom];\n  opts = opts || {};\n\n  var output = '';\n\n  for(var i = 0; i < dom.length; i++){\n    var elem = dom[i];\n\n    if (elem.type === 'root')\n      output += render(elem.children, opts);\n    else if (ElementType.isTag(elem))\n      output += renderTag(elem, opts);\n    else if (elem.type === ElementType.Directive)\n      output += renderDirective(elem);\n    else if (elem.type === ElementType.Comment)\n      output += renderComment(elem);\n    else if (elem.type === ElementType.CDATA)\n      output += renderCdata(elem);\n    else\n      output += renderText(elem, opts);\n  }\n\n  return output;\n};\n\nfunction renderTag(elem, opts) {\n  // Handle SVG\n  if (elem.name === \"svg\") opts = {decodeEntities: opts.decodeEntities, xmlMode: true};\n\n  var tag = '<' + elem.name,\n      attribs = formatAttrs(elem.attribs, opts);\n\n  if (attribs) {\n    tag += ' ' + attribs;\n  }\n\n  if (\n    opts.xmlMode\n    && (!elem.children || elem.children.length === 0)\n  ) {\n    tag += '/>';\n  } else {\n    tag += '>';\n    if (elem.children) {\n      tag += render(elem.children, opts);\n    }\n\n    if (!singleTag[elem.name] || opts.xmlMode) {\n      tag += '</' + elem.name + '>';\n    }\n  }\n\n  return tag;\n}\n\nfunction renderDirective(elem) {\n  return '<' + elem.data + '>';\n}\n\nfunction renderText(elem, opts) {\n  var data = elem.data || '';\n\n  // if entities weren't decoded, no need to encode them back\n  if (opts.decodeEntities && !(elem.parent && elem.parent.name in unencodedElements)) {\n    data = entities.encodeXML(data);\n  }\n\n  return data;\n}\n\nfunction renderCdata(elem) {\n  return '<![CDATA[' + elem.children[0].data + ']]>';\n}\n\nfunction renderComment(elem) {\n  return '<!--' + elem.data + '-->';\n}\n"]}