{"version":3,"sources":["compatibility.js"],"names":[],"mappings":"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","file":"compatibility-compiled.js","sourcesContent":["var DEFAULTS = {\n  '*': {\n    colors: {\n      opacity: true // rgba / hsla\n    },\n    properties: {\n      backgroundClipMerging: true, // background-clip to shorthand\n      backgroundOriginMerging: true, // background-origin to shorthand\n      backgroundSizeMerging: true, // background-size to shorthand\n      colors: true, // any kind of color transformations, like `#ff00ff` to `#f0f` or `#fff` into `red`\n      ieBangHack: false, // !ie suffix hacks on IE<8\n      ieFilters: false, // whether to preserve `filter` and `-ms-filter` properties\n      iePrefixHack: false, // underscore / asterisk prefix hacks on IE\n      ieSuffixHack: false, // \\9 suffix hacks on IE6-9\n      merging: true, // merging properties into one\n      shorterLengthUnits: false, // optimize pixel units into `pt`, `pc` or `in` units\n      spaceAfterClosingBrace: true, // 'url() no-repeat' to 'url()no-repeat'\n      urlQuotes: false, // whether to wrap content of `url()` into quotes or not\n      zeroUnits: true // 0[unit] -> 0\n    },\n    selectors: {\n      adjacentSpace: false, // div+ nav Android stock browser hack\n      ie7Hack: false, // *+html hack\n      mergeablePseudoClasses: [\n        ':active',\n        ':after',\n        ':before',\n        ':empty',\n        ':checked',\n        ':disabled',\n        ':empty',\n        ':enabled',\n        ':first-child',\n        ':first-letter',\n        ':first-line',\n        ':first-of-type',\n        ':focus',\n        ':hover',\n        ':lang',\n        ':last-child',\n        ':last-of-type',\n        ':link',\n        ':not',\n        ':nth-child',\n        ':nth-last-child',\n        ':nth-last-of-type',\n        ':nth-of-type',\n        ':only-child',\n        ':only-of-type',\n        ':root',\n        ':target',\n        ':visited'\n      ], // selectors with these pseudo-classes can be merged as these are universally supported\n      mergeablePseudoElements: [\n        '::after',\n        '::before',\n        '::first-letter',\n        '::first-line'\n      ], // selectors with these pseudo-elements can be merged as these are universally supported\n      mergeLimit: 8191, // number of rules that can be safely merged together\n      multiplePseudoMerging: true\n    },\n    units: {\n      ch: true,\n      in: true,\n      pc: true,\n      pt: true,\n      rem: true,\n      vh: true,\n      vm: true, // vm is vmin on IE9+ see https://developer.mozilla.org/en-US/docs/Web/CSS/length\n      vmax: true,\n      vmin: true,\n      vw: true\n    }\n  }\n};\n\nDEFAULTS.ie11 = DEFAULTS['*'];\n\nDEFAULTS.ie10 = DEFAULTS['*'];\n\nDEFAULTS.ie9 = merge(DEFAULTS['*'], {\n  properties: {\n    ieFilters: true,\n    ieSuffixHack: true\n  }\n});\n\nDEFAULTS.ie8 = merge(DEFAULTS.ie9, {\n  colors: {\n    opacity: false\n  },\n  properties: {\n    backgroundClipMerging: false,\n    backgroundOriginMerging: false,\n    backgroundSizeMerging: false,\n    iePrefixHack: true,\n    merging: false\n  },\n  selectors: {\n    mergeablePseudoClasses: [\n      ':after',\n      ':before',\n      ':first-child',\n      ':first-letter',\n      ':focus',\n      ':hover',\n      ':visited'\n    ],\n    mergeablePseudoElements: []\n  },\n  units: {\n    ch: false,\n    rem: false,\n    vh: false,\n    vm: false,\n    vmax: false,\n    vmin: false,\n    vw: false\n  }\n});\n\nDEFAULTS.ie7 = merge(DEFAULTS.ie8, {\n  properties: {\n    ieBangHack: true\n  },\n  selectors: {\n    ie7Hack: true,\n    mergeablePseudoClasses: [\n      ':first-child',\n      ':first-letter',\n      ':hover',\n      ':visited'\n    ]\n  },\n});\n\nfunction compatibilityFrom(source) {\n  return merge(DEFAULTS['*'], calculateSource(source));\n}\n\nfunction merge(source, target) {\n  for (var key in source) {\n    var value = source[key];\n\n    if (typeof value === 'object' && !Array.isArray(value)) {\n      target[key] = merge(value, target[key] || {});\n    } else {\n      target[key] = key in target ? target[key] : value;\n    }\n  }\n\n  return target;\n}\n\nfunction calculateSource(source) {\n  if (typeof source == 'object')\n    return source;\n\n  if (!/[,\\+\\-]/.test(source))\n    return DEFAULTS[source] || DEFAULTS['*'];\n\n  var parts = source.split(',');\n  var template = parts[0] in DEFAULTS ?\n    DEFAULTS[parts.shift()] :\n    DEFAULTS['*'];\n\n  source = {};\n\n  parts.forEach(function (part) {\n    var isAdd = part[0] == '+';\n    var key = part.substring(1).split('.');\n    var group = key[0];\n    var option = key[1];\n\n    source[group] = source[group] || {};\n    source[group][option] = isAdd;\n  });\n\n  return merge(template, source);\n}\n\nmodule.exports = compatibilityFrom;\n"]}