{"version":3,"sources":["optimize.js"],"names":[],"mappings":"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","file":"optimize-compiled.js","sourcesContent":["var shortenHex = require('./shorten-hex');\nvar shortenHsl = require('./shorten-hsl');\nvar shortenRgb = require('./shorten-rgb');\nvar sortSelectors = require('./sort-selectors');\nvar tidyRules = require('./tidy-rules');\nvar tidyBlock = require('./tidy-block');\nvar tidyAtRule = require('./tidy-at-rule');\n\nvar Hack = require('../hack');\nvar removeUnused = require('../remove-unused');\nvar restoreFromOptimizing = require('../restore-from-optimizing');\nvar wrapForOptimizing = require('../wrap-for-optimizing').all;\n\nvar OptimizationLevel = require('../../options/optimization-level').OptimizationLevel;\n\nvar Token = require('../../tokenizer/token');\nvar Marker = require('../../tokenizer/marker');\n\nvar formatPosition = require('../../utils/format-position');\nvar split = require('../../utils/split');\n\nvar IgnoreProperty = 'ignore-property';\n\nvar CHARSET_TOKEN = '@charset';\nvar CHARSET_REGEXP = new RegExp('^' + CHARSET_TOKEN, 'i');\n\nvar DEFAULT_ROUNDING_PRECISION = require('../../options/rounding-precision').DEFAULT;\n\nvar WHOLE_PIXEL_VALUE = /(?:^|\\s|\\()(-?\\d+)px/;\nvar TIME_VALUE = /^(\\-?[\\d\\.]+)(m?s)$/;\n\nvar HEX_VALUE_PATTERN = /[0-9a-f]/i;\nvar PROPERTY_NAME_PATTERN = /^(?:\\-chrome\\-|\\-[\\w\\-]+\\w|\\w[\\w\\-]+\\w|\\-\\-\\S+)$/;\nvar IMPORT_PREFIX_PATTERN = /^@import/i;\nvar QUOTED_PATTERN = /^('.*'|\".*\")$/;\nvar QUOTED_BUT_SAFE_PATTERN = /^['\"][a-zA-Z][a-zA-Z\\d\\-_]+['\"]$/;\nvar URL_PREFIX_PATTERN = /^url\\(/i;\nvar VARIABLE_NAME_PATTERN = /^--\\S+$/;\n\nfunction isNegative(value) {\n  return value && value[1][0] == '-' && parseFloat(value[1]) < 0;\n}\n\nfunction isQuoted(value) {\n  return QUOTED_PATTERN.test(value);\n}\n\nfunction isUrl(value) {\n  return URL_PREFIX_PATTERN.test(value);\n}\n\nfunction normalizeUrl(value) {\n  return value\n    .replace(URL_PREFIX_PATTERN, 'url(')\n    .replace(/\\\\?\\n|\\\\?\\r\\n/g, '');\n}\n\nfunction optimizeBackground(property) {\n  var values = property.value;\n\n  if (values.length == 1 && values[0][1] == 'none') {\n    values[0][1] = '0 0';\n  }\n\n  if (values.length == 1 && values[0][1] == 'transparent') {\n    values[0][1] = '0 0';\n  }\n}\n\nfunction optimizeBorderRadius(property) {\n  var values = property.value;\n  var spliceAt;\n\n  if (values.length == 3 && values[1][1] == '/' && values[0][1] == values[2][1]) {\n    spliceAt = 1;\n  } else if (values.length == 5 && values[2][1] == '/' && values[0][1] == values[3][1] && values[1][1] == values[4][1]) {\n    spliceAt = 2;\n  } else if (values.length == 7 && values[3][1] == '/' && values[0][1] == values[4][1] && values[1][1] == values[5][1] && values[2][1] == values[6][1]) {\n    spliceAt = 3;\n  } else if (values.length == 9 && values[4][1] == '/' && values[0][1] == values[5][1] && values[1][1] == values[6][1] && values[2][1] == values[7][1] && values[3][1] == values[8][1]) {\n    spliceAt = 4;\n  }\n\n  if (spliceAt) {\n    property.value.splice(spliceAt);\n    property.dirty = true;\n  }\n}\n\nfunction optimizeColors(name, value, compatibility) {\n  if (value.indexOf('#') === -1 && value.indexOf('rgb') == -1 && value.indexOf('hsl') == -1) {\n    return shortenHex(value);\n  }\n\n  value = value\n    .replace(/rgb\\((\\-?\\d+),(\\-?\\d+),(\\-?\\d+)\\)/g, function (match, red, green, blue) {\n      return shortenRgb(red, green, blue);\n    })\n    .replace(/hsl\\((-?\\d+),(-?\\d+)%?,(-?\\d+)%?\\)/g, function (match, hue, saturation, lightness) {\n      return shortenHsl(hue, saturation, lightness);\n    })\n    .replace(/(^|[^='\"])#([0-9a-f]{6})/gi, function (match, prefix, color, at, inputValue) {\n      var suffix = inputValue[at + match.length];\n\n      if (suffix && HEX_VALUE_PATTERN.test(suffix)) {\n        return match;\n      } else if (color[0] == color[1] && color[2] == color[3] && color[4] == color[5]) {\n        return (prefix + '#' + color[0] + color[2] + color[4]).toLowerCase();\n      } else {\n        return (prefix + '#' + color).toLowerCase();\n      }\n    })\n    .replace(/(^|[^='\"])#([0-9a-f]{3})/gi, function (match, prefix, color) {\n      return prefix + '#' + color.toLowerCase();\n    })\n    .replace(/(rgb|rgba|hsl|hsla)\\(([^\\)]+)\\)/g, function (match, colorFunction, colorDef) {\n      var tokens = colorDef.split(',');\n      var applies = (colorFunction == 'hsl' && tokens.length == 3) ||\n        (colorFunction == 'hsla' && tokens.length == 4) ||\n        (colorFunction == 'rgb' && tokens.length == 3 && colorDef.indexOf('%') > 0) ||\n        (colorFunction == 'rgba' && tokens.length == 4 && colorDef.indexOf('%') > 0);\n\n      if (!applies) {\n        return match;\n      }\n\n      if (tokens[1].indexOf('%') == -1) {\n        tokens[1] += '%';\n      }\n\n      if (tokens[2].indexOf('%') == -1) {\n        tokens[2] += '%';\n      }\n\n      return colorFunction + '(' + tokens.join(',') + ')';\n    });\n\n  if (compatibility.colors.opacity && name.indexOf('background') == -1) {\n    value = value.replace(/(?:rgba|hsla)\\(0,0%?,0%?,0\\)/g, function (match) {\n      if (split(value, ',').pop().indexOf('gradient(') > -1) {\n        return match;\n      }\n\n      return 'transparent';\n    });\n  }\n\n  return shortenHex(value);\n}\n\nfunction optimizeFilter(property) {\n  if (property.value.length == 1) {\n    property.value[0][1] = property.value[0][1].replace(/progid:DXImageTransform\\.Microsoft\\.(Alpha|Chroma)(\\W)/, function (match, filter, suffix) {\n      return filter.toLowerCase() + suffix;\n    });\n  }\n\n  property.value[0][1] = property.value[0][1]\n    .replace(/,(\\S)/g, ', $1')\n    .replace(/ ?= ?/g, '=');\n}\n\nfunction optimizeFontWeight(property, atIndex) {\n  var value = property.value[atIndex][1];\n\n  if (value == 'normal') {\n    value = '400';\n  } else if (value == 'bold') {\n    value = '700';\n  }\n\n  property.value[atIndex][1] = value;\n}\n\nfunction optimizeMultipleZeros(property) {\n  var values = property.value;\n  var spliceAt;\n\n  if (values.length == 4 && values[0][1] === '0' && values[1][1] === '0' && values[2][1] === '0' && values[3][1] === '0') {\n    if (property.name.indexOf('box-shadow') > -1) {\n      spliceAt = 2;\n    } else {\n      spliceAt = 1;\n    }\n  }\n\n  if (spliceAt) {\n    property.value.splice(spliceAt);\n    property.dirty = true;\n  }\n}\n\nfunction optimizeOutline(property) {\n  var values = property.value;\n\n  if (values.length == 1 && values[0][1] == 'none') {\n    values[0][1] = '0';\n  }\n}\n\nfunction optimizePixelLengths(_, value, compatibility) {\n  if (!WHOLE_PIXEL_VALUE.test(value)) {\n    return value;\n  }\n\n  return value.replace(WHOLE_PIXEL_VALUE, function (match, val) {\n    var newValue;\n    var intVal = parseInt(val);\n\n    if (intVal === 0) {\n      return match;\n    }\n\n    if (compatibility.properties.shorterLengthUnits && compatibility.units.pt && intVal * 3 % 4 === 0) {\n      newValue = intVal * 3 / 4 + 'pt';\n    }\n\n    if (compatibility.properties.shorterLengthUnits && compatibility.units.pc && intVal % 16 === 0) {\n      newValue = intVal / 16 + 'pc';\n    }\n\n    if (compatibility.properties.shorterLengthUnits && compatibility.units.in && intVal % 96 === 0) {\n      newValue = intVal / 96 + 'in';\n    }\n\n    if (newValue) {\n      newValue = match.substring(0, match.indexOf(val)) + newValue;\n    }\n\n    return newValue && newValue.length < match.length ? newValue : match;\n  });\n}\n\nfunction optimizePrecision(_, value, precisionOptions) {\n  if (!precisionOptions.enabled || value.indexOf('.') === -1) {\n    return value;\n  }\n\n  return value\n    .replace(precisionOptions.decimalPointMatcher, '$1$2$3')\n    .replace(precisionOptions.zeroMatcher, function (match, integerPart, fractionPart, unit) {\n      var multiplier = precisionOptions.units[unit].multiplier;\n      var parsedInteger = parseInt(integerPart);\n      var integer = isNaN(parsedInteger) ? 0 : parsedInteger;\n      var fraction = parseFloat(fractionPart);\n\n      return Math.round((integer + fraction) * multiplier) / multiplier + unit;\n    });\n}\n\nfunction optimizeTimeUnits(_, value) {\n  if (!TIME_VALUE.test(value))\n    return value;\n\n  return value.replace(TIME_VALUE, function (match, val, unit) {\n    var newValue;\n\n    if (unit == 'ms') {\n      newValue = parseInt(val) / 1000 + 's';\n    } else if (unit == 's') {\n      newValue = parseFloat(val) * 1000 + 'ms';\n    }\n\n    return newValue.length < match.length ? newValue : match;\n  });\n}\n\nfunction optimizeUnits(name, value, unitsRegexp) {\n  if (/^(?:\\-moz\\-calc|\\-webkit\\-calc|calc|rgb|hsl|rgba|hsla)\\(/.test(value)) {\n    return value;\n  }\n\n  if (name == 'flex' || name == '-ms-flex' || name == '-webkit-flex' || name == 'flex-basis' || name == '-webkit-flex-basis') {\n    return value;\n  }\n\n  if (value.indexOf('%') > 0 && (name == 'height' || name == 'max-height' || name == 'width' || name == 'max-width')) {\n    return value;\n  }\n\n  return value\n    .replace(unitsRegexp, '$1' + '0' + '$2')\n    .replace(unitsRegexp, '$1' + '0' + '$2');\n}\n\nfunction optimizeWhitespace(name, value) {\n  if (name.indexOf('filter') > -1 || value.indexOf(' ') == -1 || value.indexOf('expression') === 0) {\n    return value;\n  }\n\n  if (value.indexOf(Marker.SINGLE_QUOTE) > -1 || value.indexOf(Marker.DOUBLE_QUOTE) > -1) {\n    return value;\n  }\n\n  value = value.replace(/\\s+/g, ' ');\n\n  if (value.indexOf('calc') > -1) {\n    value = value.replace(/\\) ?\\/ ?/g, ')/ ');\n  }\n\n  return value\n    .replace(/(\\(;?)\\s+/g, '$1')\n    .replace(/\\s+(;?\\))/g, '$1')\n    .replace(/, /g, ',');\n}\n\nfunction optimizeZeroDegUnit(_, value) {\n  if (value.indexOf('0deg') == -1) {\n    return value;\n  }\n\n  return value.replace(/\\(0deg\\)/g, '(0)');\n}\n\nfunction optimizeZeroUnits(name, value) {\n  if (value.indexOf('0') == -1) {\n    return value;\n  }\n\n  if (value.indexOf('-') > -1) {\n    value = value\n      .replace(/([^\\w\\d\\-]|^)\\-0([^\\.]|$)/g, '$10$2')\n      .replace(/([^\\w\\d\\-]|^)\\-0([^\\.]|$)/g, '$10$2');\n  }\n\n  return value\n    .replace(/(^|\\s)0+([1-9])/g, '$1$2')\n    .replace(/(^|\\D)\\.0+(\\D|$)/g, '$10$2')\n    .replace(/(^|\\D)\\.0+(\\D|$)/g, '$10$2')\n    .replace(/\\.([1-9]*)0+(\\D|$)/g, function (match, nonZeroPart, suffix) {\n      return (nonZeroPart.length > 0 ? '.' : '') + nonZeroPart + suffix;\n    })\n    .replace(/(^|\\D)0\\.(\\d)/g, '$1.$2');\n}\n\nfunction removeQuotes(name, value) {\n  if (name == 'content' || name.indexOf('font-feature-settings') > -1 || name.indexOf('grid-') > -1) {\n    return value;\n  }\n\n  return QUOTED_BUT_SAFE_PATTERN.test(value) ?\n    value.substring(1, value.length - 1) :\n    value;\n}\n\nfunction removeUrlQuotes(value) {\n  return /^url\\(['\"].+['\"]\\)$/.test(value) && !/^url\\(['\"].*[\\*\\s\\(\\)'\"].*['\"]\\)$/.test(value) && !/^url\\(['\"]data:[^;]+;charset/.test(value) ?\n    value.replace(/[\"']/g, '') :\n    value;\n}\n\nfunction transformValue(propertyName, propertyValue, transformCallback) {\n  var transformedValue = transformCallback(propertyName, propertyValue);\n\n  if (transformedValue === undefined) {\n    return propertyValue;\n  } else if (transformedValue === false) {\n    return IgnoreProperty;\n  } else {\n    return transformedValue;\n  }\n}\n\n//\n\nfunction optimizeBody(properties, context) {\n  var options = context.options;\n  var levelOptions = options.level[OptimizationLevel.One];\n  var property, name, type, value;\n  var valueIsUrl;\n  var propertyToken;\n  var _properties = wrapForOptimizing(properties, true);\n\n  propertyLoop:\n  for (var i = 0, l = _properties.length; i < l; i++) {\n    property = _properties[i];\n    name = property.name;\n\n    if (!PROPERTY_NAME_PATTERN.test(name)) {\n      propertyToken = property.all[property.position];\n      context.warnings.push('Invalid property name \\'' + name + '\\' at ' + formatPosition(propertyToken[1][2][0]) + '. Ignoring.');\n      property.unused = true;\n    }\n\n    if (property.value.length === 0) {\n      propertyToken = property.all[property.position];\n      context.warnings.push('Empty property \\'' + name + '\\' at ' + formatPosition(propertyToken[1][2][0]) + '. Ignoring.');\n      property.unused = true;\n    }\n\n    if (property.hack && (\n        (property.hack[0] == Hack.ASTERISK || property.hack[0] == Hack.UNDERSCORE) && !options.compatibility.properties.iePrefixHack ||\n        property.hack[0] == Hack.BACKSLASH && !options.compatibility.properties.ieSuffixHack ||\n        property.hack[0] == Hack.BANG && !options.compatibility.properties.ieBangHack)) {\n      property.unused = true;\n    }\n\n    if (levelOptions.removeNegativePaddings && name.indexOf('padding') === 0 && (isNegative(property.value[0]) || isNegative(property.value[1]) || isNegative(property.value[2]) || isNegative(property.value[3]))) {\n      property.unused = true;\n    }\n\n    if (!options.compatibility.properties.ieFilters && isLegacyFilter(property)) {\n      property.unused = true;\n    }\n\n    if (property.unused) {\n      continue;\n    }\n\n    if (property.block) {\n      optimizeBody(property.value[0][1], context);\n      continue;\n    }\n\n    if (VARIABLE_NAME_PATTERN.test(name)) {\n      continue;\n    }\n\n    for (var j = 0, m = property.value.length; j < m; j++) {\n      type = property.value[j][0];\n      value = property.value[j][1];\n      valueIsUrl = isUrl(value);\n\n      if (type == Token.PROPERTY_BLOCK) {\n        property.unused = true;\n        context.warnings.push('Invalid value token at ' + formatPosition(value[0][1][2][0]) + '. Ignoring.');\n        break;\n      }\n\n      if (valueIsUrl && !context.validator.isUrl(value)) {\n        property.unused = true;\n        context.warnings.push('Broken URL \\'' + value + '\\' at ' + formatPosition(property.value[j][2][0]) + '. Ignoring.');\n        break;\n      }\n\n      if (valueIsUrl) {\n        value = levelOptions.normalizeUrls ?\n          normalizeUrl(value) :\n          value;\n        value = !options.compatibility.properties.urlQuotes ?\n          removeUrlQuotes(value) :\n          value;\n      } else if (isQuoted(value)) {\n        value = levelOptions.removeQuotes ?\n          removeQuotes(name, value) :\n          value;\n      } else {\n        value = levelOptions.removeWhitespace ?\n          optimizeWhitespace(name, value) :\n          value;\n        value = optimizePrecision(name, value, options.precision);\n        value = optimizePixelLengths(name, value, options.compatibility);\n        value = levelOptions.replaceTimeUnits ?\n          optimizeTimeUnits(name, value) :\n          value;\n        value = levelOptions.replaceZeroUnits ?\n          optimizeZeroUnits(name, value) :\n          value;\n\n        if (options.compatibility.properties.zeroUnits) {\n          value = optimizeZeroDegUnit(name, value);\n          value = optimizeUnits(name, value, options.unitsRegexp);\n        }\n\n        if (options.compatibility.properties.colors) {\n          value = optimizeColors(name, value, options.compatibility);\n        }\n      }\n\n      value = transformValue(name, value, levelOptions.transform);\n\n      if (value === IgnoreProperty) {\n        property.unused = true;\n        continue propertyLoop;\n      }\n\n      property.value[j][1] = value;\n    }\n\n    if (levelOptions.replaceMultipleZeros) {\n      optimizeMultipleZeros(property);\n    }\n\n    if (name == 'background' && levelOptions.optimizeBackground) {\n      optimizeBackground(property);\n    } else if (name.indexOf('border') === 0 && name.indexOf('radius') > 0 && levelOptions.optimizeBorderRadius) {\n      optimizeBorderRadius(property);\n    } else if (name == 'filter'&& levelOptions.optimizeFilter && options.compatibility.properties.ieFilters) {\n      optimizeFilter(property);\n    } else if (name == 'font-weight' && levelOptions.optimizeFontWeight) {\n      optimizeFontWeight(property, 0);\n    } else if (name == 'outline' && levelOptions.optimizeOutline) {\n      optimizeOutline(property);\n    }\n  }\n\n  restoreFromOptimizing(_properties);\n  removeUnused(_properties);\n  removeComments(properties, options);\n}\n\nfunction removeComments(tokens, options) {\n  var token;\n  var i;\n\n  for (i = 0; i < tokens.length; i++) {\n    token = tokens[i];\n\n    if (token[0] != Token.COMMENT) {\n      continue;\n    }\n\n    optimizeComment(token, options);\n\n    if (token[1].length === 0) {\n      tokens.splice(i, 1);\n      i--;\n    }\n  }\n}\n\nfunction optimizeComment(token, options) {\n  if (token[1][2] == Marker.EXCLAMATION && (options.level[OptimizationLevel.One].specialComments == 'all' || options.commentsKept < options.level[OptimizationLevel.One].specialComments)) {\n    options.commentsKept++;\n    return;\n  }\n\n  token[1] = [];\n}\n\nfunction cleanupCharsets(tokens) {\n  var hasCharset = false;\n\n  for (var i = 0, l = tokens.length; i < l; i++) {\n    var token = tokens[i];\n\n    if (token[0] != Token.AT_RULE)\n      continue;\n\n    if (!CHARSET_REGEXP.test(token[1]))\n      continue;\n\n    if (hasCharset || token[1].indexOf(CHARSET_TOKEN) == -1) {\n      tokens.splice(i, 1);\n      i--;\n      l--;\n    } else {\n      hasCharset = true;\n      tokens.splice(i, 1);\n      tokens.unshift([Token.AT_RULE, token[1].replace(CHARSET_REGEXP, CHARSET_TOKEN)]);\n    }\n  }\n}\n\nfunction buildUnitRegexp(options) {\n  var units = ['px', 'em', 'ex', 'cm', 'mm', 'in', 'pt', 'pc', '%'];\n  var otherUnits = ['ch', 'rem', 'vh', 'vm', 'vmax', 'vmin', 'vw'];\n\n  otherUnits.forEach(function (unit) {\n    if (options.compatibility.units[unit]) {\n      units.push(unit);\n    }\n  });\n\n  return new RegExp('(^|\\\\s|\\\\(|,)0(?:' + units.join('|') + ')(\\\\W|$)', 'g');\n}\n\nfunction buildPrecisionOptions(roundingPrecision) {\n  var precisionOptions = {\n    matcher: null,\n    units: {},\n  };\n  var optimizable = [];\n  var unit;\n  var value;\n\n  for (unit in roundingPrecision) {\n    value = roundingPrecision[unit];\n\n    if (value != DEFAULT_ROUNDING_PRECISION) {\n      precisionOptions.units[unit] = {};\n      precisionOptions.units[unit].value = value;\n      precisionOptions.units[unit].multiplier = Math.pow(10, value);\n\n      optimizable.push(unit);\n    }\n  }\n\n  if (optimizable.length > 0) {\n    precisionOptions.enabled = true;\n    precisionOptions.decimalPointMatcher = new RegExp('(\\\\d)\\\\.($|' + optimizable.join('|') + ')($|\\W)', 'g');\n    precisionOptions.zeroMatcher = new RegExp('(\\\\d*)(\\\\.\\\\d+)(' + optimizable.join('|') + ')', 'g');\n  }\n\n  return precisionOptions;\n}\n\nfunction isImport(token) {\n  return IMPORT_PREFIX_PATTERN.test(token[1]);\n}\n\nfunction isLegacyFilter(property) {\n  var value;\n\n  if (property.name == 'filter' || property.name == '-ms-filter') {\n    value = property.value[0][1];\n\n    return value.indexOf('progid') > -1 ||\n      value.indexOf('alpha') === 0 ||\n      value.indexOf('chroma') === 0;\n  } else {\n    return false;\n  }\n}\n\nfunction level1Optimize(tokens, context) {\n  var options = context.options;\n  var levelOptions = options.level[OptimizationLevel.One];\n  var ie7Hack = options.compatibility.selectors.ie7Hack;\n  var adjacentSpace = options.compatibility.selectors.adjacentSpace;\n  var spaceAfterClosingBrace = options.compatibility.properties.spaceAfterClosingBrace;\n  var format = options.format;\n  var mayHaveCharset = false;\n  var afterRules = false;\n\n  options.unitsRegexp = options.unitsRegexp || buildUnitRegexp(options);\n  options.precision = options.precision || buildPrecisionOptions(levelOptions.roundingPrecision);\n  options.commentsKept = options.commentsKept || 0;\n\n  for (var i = 0, l = tokens.length; i < l; i++) {\n    var token = tokens[i];\n\n    switch (token[0]) {\n      case Token.AT_RULE:\n        token[1] = isImport(token) && afterRules ? '' : token[1];\n        token[1] = levelOptions.tidyAtRules ? tidyAtRule(token[1]) : token[1];\n        mayHaveCharset = true;\n        break;\n      case Token.AT_RULE_BLOCK:\n        optimizeBody(token[2], context);\n        afterRules = true;\n        break;\n      case Token.NESTED_BLOCK:\n        token[1] = levelOptions.tidyBlockScopes ? tidyBlock(token[1], spaceAfterClosingBrace) : token[1];\n        level1Optimize(token[2], context);\n        afterRules = true;\n        break;\n      case Token.COMMENT:\n        optimizeComment(token, options);\n        break;\n      case Token.RULE:\n        token[1] = levelOptions.tidySelectors ? tidyRules(token[1], !ie7Hack, adjacentSpace, format, context.warnings) : token[1];\n        token[1] = token[1].length > 1 ? sortSelectors(token[1], levelOptions.selectorsSortingMethod) : token[1];\n        optimizeBody(token[2], context);\n        afterRules = true;\n        break;\n    }\n\n    if (token[0] == Token.COMMENT && token[1].length === 0 || levelOptions.removeEmpty && (token[1].length === 0 || (token[2] && token[2].length === 0))) {\n      tokens.splice(i, 1);\n      i--;\n      l--;\n    }\n  }\n\n  if (levelOptions.cleanupCharsets && mayHaveCharset) {\n    cleanupCharsets(tokens);\n  }\n\n  return tokens;\n}\n\nmodule.exports = level1Optimize;\n"]}