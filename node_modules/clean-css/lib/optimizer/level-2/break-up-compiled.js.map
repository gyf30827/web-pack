{"version":3,"sources":["break-up.js"],"names":[],"mappings":"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","file":"break-up-compiled.js","sourcesContent":["var InvalidPropertyError = require('./invalid-property-error');\n\nvar wrapSingle = require('../wrap-for-optimizing').single;\n\nvar Token = require('../../tokenizer/token');\nvar Marker = require('../../tokenizer/marker');\n\nvar formatPosition = require('../../utils/format-position');\n\nfunction _anyIsInherit(values) {\n  var i, l;\n\n  for (i = 0, l = values.length; i < l; i++) {\n    if (values[i][1] == 'inherit') {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction _colorFilter(validator) {\n  return function (value) {\n    return value[1] == 'invert' || validator.isColor(value[1]) || validator.isPrefixed(value[1]);\n  };\n}\n\nfunction _styleFilter(validator) {\n  return function (value) {\n    return value[1] != 'inherit' && validator.isStyleKeyword(value[1]) && !validator.isColorFunction(value[1]);\n  };\n}\n\nfunction _wrapDefault(name, property, compactable) {\n  var descriptor = compactable[name];\n  if (descriptor.doubleValues && descriptor.defaultValue.length == 2) {\n    return wrapSingle([\n      Token.PROPERTY,\n      [Token.PROPERTY_NAME, name],\n      [Token.PROPERTY_VALUE, descriptor.defaultValue[0]],\n      [Token.PROPERTY_VALUE, descriptor.defaultValue[1]]\n    ]);\n  } else if (descriptor.doubleValues && descriptor.defaultValue.length == 1) {\n    return wrapSingle([\n      Token.PROPERTY,\n      [Token.PROPERTY_NAME, name],\n      [Token.PROPERTY_VALUE, descriptor.defaultValue[0]]\n    ]);\n  } else {\n    return wrapSingle([\n      Token.PROPERTY,\n      [Token.PROPERTY_NAME, name],\n      [Token.PROPERTY_VALUE, descriptor.defaultValue]\n    ]);\n  }\n}\n\nfunction _widthFilter(validator) {\n  return function (value) {\n    return value[1] != 'inherit' &&\n      (validator.isWidth(value[1]) || validator.isUnit(value[1]) && !validator.isDynamicUnit(value[1])) &&\n      !validator.isStyleKeyword(value[1]) &&\n      !validator.isColorFunction(value[1]);\n  };\n}\n\nfunction animation(property, compactable, validator) {\n  var duration = _wrapDefault(property.name + '-duration', property, compactable);\n  var timing = _wrapDefault(property.name + '-timing-function', property, compactable);\n  var delay = _wrapDefault(property.name + '-delay', property, compactable);\n  var iteration = _wrapDefault(property.name + '-iteration-count', property, compactable);\n  var direction = _wrapDefault(property.name + '-direction', property, compactable);\n  var fill = _wrapDefault(property.name + '-fill-mode', property, compactable);\n  var play = _wrapDefault(property.name + '-play-state', property, compactable);\n  var name = _wrapDefault(property.name + '-name', property, compactable);\n  var components = [duration, timing, delay, iteration, direction, fill, play, name];\n  var values = property.value;\n  var value;\n  var durationSet = false;\n  var timingSet = false;\n  var delaySet = false;\n  var iterationSet = false;\n  var directionSet = false;\n  var fillSet = false;\n  var playSet = false;\n  var nameSet = false;\n  var i;\n  var l;\n\n  if (property.value.length == 1 && property.value[0][1] == 'inherit') {\n    duration.value = timing.value = delay.value = iteration.value = direction.value = fill.value = play.value = name.value = property.value;\n    return components;\n  }\n\n  if (values.length > 1 && _anyIsInherit(values)) {\n    throw new InvalidPropertyError('Invalid animation values at ' + formatPosition(values[0][2][0]) + '. Ignoring.');\n  }\n\n  for (i = 0, l = values.length; i < l; i++) {\n    value = values[i];\n\n    if (validator.isTime(value[1]) && !durationSet) {\n      duration.value = [value];\n      durationSet = true;\n    } else if (validator.isTime(value[1]) && !delaySet) {\n      delay.value = [value];\n      delaySet = true;\n    } else if ((validator.isGlobal(value[1]) || validator.isAnimationTimingFunction(value[1])) && !timingSet) {\n      timing.value = [value];\n      timingSet = true;\n    } else if ((validator.isAnimationIterationCountKeyword(value[1]) || validator.isPositiveNumber(value[1])) && !iterationSet) {\n      iteration.value = [value];\n      iterationSet = true;\n    } else if (validator.isAnimationDirectionKeyword(value[1]) && !directionSet) {\n      direction.value = [value];\n      directionSet = true;\n    } else if (validator.isAnimationFillModeKeyword(value[1]) && !fillSet) {\n      fill.value = [value];\n      fillSet = true;\n    } else if (validator.isAnimationPlayStateKeyword(value[1]) && !playSet) {\n      play.value = [value];\n      playSet = true;\n    } else if ((validator.isAnimationNameKeyword(value[1]) || validator.isIdentifier(value[1])) && !nameSet) {\n      name.value = [value];\n      nameSet = true;\n    } else {\n      throw new InvalidPropertyError('Invalid animation value at ' + formatPosition(value[2][0]) + '. Ignoring.');\n    }\n  }\n\n  return components;\n}\n\nfunction background(property, compactable, validator) {\n  var image = _wrapDefault('background-image', property, compactable);\n  var position = _wrapDefault('background-position', property, compactable);\n  var size = _wrapDefault('background-size', property, compactable);\n  var repeat = _wrapDefault('background-repeat', property, compactable);\n  var attachment = _wrapDefault('background-attachment', property, compactable);\n  var origin = _wrapDefault('background-origin', property, compactable);\n  var clip = _wrapDefault('background-clip', property, compactable);\n  var color = _wrapDefault('background-color', property, compactable);\n  var components = [image, position, size, repeat, attachment, origin, clip, color];\n  var values = property.value;\n\n  var positionSet = false;\n  var clipSet = false;\n  var originSet = false;\n  var repeatSet = false;\n\n  var anyValueSet = false;\n\n  if (property.value.length == 1 && property.value[0][1] == 'inherit') {\n    // NOTE: 'inherit' is not a valid value for background-attachment\n    color.value = image.value =  repeat.value = position.value = size.value = origin.value = clip.value = property.value;\n    return components;\n  }\n\n  if (property.value.length == 1 && property.value[0][1] == '0 0') {\n    return components;\n  }\n\n  for (var i = values.length - 1; i >= 0; i--) {\n    var value = values[i];\n\n    if (validator.isBackgroundAttachmentKeyword(value[1])) {\n      attachment.value = [value];\n      anyValueSet = true;\n    } else if (validator.isBackgroundClipKeyword(value[1]) || validator.isBackgroundOriginKeyword(value[1])) {\n      if (clipSet) {\n        origin.value = [value];\n        originSet = true;\n      } else {\n        clip.value = [value];\n        clipSet = true;\n      }\n      anyValueSet = true;\n    } else if (validator.isBackgroundRepeatKeyword(value[1])) {\n      if (repeatSet) {\n        repeat.value.unshift(value);\n      } else {\n        repeat.value = [value];\n        repeatSet = true;\n      }\n      anyValueSet = true;\n    } else if (validator.isBackgroundPositionKeyword(value[1]) || validator.isBackgroundSizeKeyword(value[1]) || validator.isUnit(value[1]) || validator.isDynamicUnit(value[1])) {\n      if (i > 0) {\n        var previousValue = values[i - 1];\n\n        if (previousValue[1] == Marker.FORWARD_SLASH) {\n          size.value = [value];\n        } else if (i > 1 && values[i - 2][1] == Marker.FORWARD_SLASH) {\n          size.value = [previousValue, value];\n          i -= 2;\n        } else {\n          if (!positionSet)\n            position.value = [];\n\n          position.value.unshift(value);\n          positionSet = true;\n        }\n      } else {\n        if (!positionSet)\n          position.value = [];\n\n        position.value.unshift(value);\n        positionSet = true;\n      }\n      anyValueSet = true;\n    } else if ((color.value[0][1] == compactable[color.name].defaultValue || color.value[0][1] == 'none') && (validator.isColor(value[1]) || validator.isPrefixed(value[1]))) {\n      color.value = [value];\n      anyValueSet = true;\n    } else if (validator.isUrl(value[1]) || validator.isFunction(value[1])) {\n      image.value = [value];\n      anyValueSet = true;\n    }\n  }\n\n  if (clipSet && !originSet)\n    origin.value = clip.value.slice(0);\n\n  if (!anyValueSet) {\n    throw new InvalidPropertyError('Invalid background value at ' + formatPosition(values[0][2][0]) + '. Ignoring.');\n  }\n\n  return components;\n}\n\nfunction borderRadius(property, compactable) {\n  var values = property.value;\n  var splitAt = -1;\n\n  for (var i = 0, l = values.length; i < l; i++) {\n    if (values[i][1] == Marker.FORWARD_SLASH) {\n      splitAt = i;\n      break;\n    }\n  }\n\n  if (splitAt === 0 || splitAt === values.length - 1) {\n    throw new InvalidPropertyError('Invalid border-radius value at ' + formatPosition(values[0][2][0]) + '. Ignoring.');\n  }\n\n  var target = _wrapDefault(property.name, property, compactable);\n  target.value = splitAt > -1 ?\n    values.slice(0, splitAt) :\n    values.slice(0);\n  target.components = fourValues(target, compactable);\n\n  var remainder = _wrapDefault(property.name, property, compactable);\n  remainder.value = splitAt > -1 ?\n    values.slice(splitAt + 1) :\n    values.slice(0);\n  remainder.components = fourValues(remainder, compactable);\n\n  for (var j = 0; j < 4; j++) {\n    target.components[j].multiplex = true;\n    target.components[j].value = target.components[j].value.concat(remainder.components[j].value);\n  }\n\n  return target.components;\n}\n\nfunction font(property, compactable, validator) {\n  var style = _wrapDefault('font-style', property, compactable);\n  var variant = _wrapDefault('font-variant', property, compactable);\n  var weight = _wrapDefault('font-weight', property, compactable);\n  var stretch = _wrapDefault('font-stretch', property, compactable);\n  var size = _wrapDefault('font-size', property, compactable);\n  var height = _wrapDefault('line-height', property, compactable);\n  var family = _wrapDefault('font-family', property, compactable);\n  var components = [style, variant, weight, stretch, size, height, family];\n  var values = property.value;\n  var fuzzyMatched = 4; // style, variant, weight, and stretch\n  var index = 0;\n  var isStretchSet = false;\n  var isStretchValid;\n  var isStyleSet = false;\n  var isStyleValid;\n  var isVariantSet = false;\n  var isVariantValid;\n  var isWeightSet = false;\n  var isWeightValid;\n  var isSizeSet = false;\n  var appendableFamilyName = false;\n\n  if (!values[index]) {\n    throw new InvalidPropertyError('Missing font values at ' + formatPosition(property.all[property.position][1][2][0]) + '. Ignoring.');\n  }\n\n  if (values.length == 1 && values[0][1] == 'inherit') {\n    style.value = variant.value = weight.value = stretch.value = size.value = height.value = family.value = values;\n    return components;\n  }\n\n  if (values.length == 1 && (validator.isFontKeyword(values[0][1]) || validator.isGlobal(values[0][1]) || validator.isPrefixed(values[0][1]))) {\n    values[0][1] = Marker.INTERNAL + values[0][1];\n    style.value = variant.value = weight.value = stretch.value = size.value = height.value = family.value = values;\n    return components;\n  }\n\n  if (values.length > 1 && _anyIsInherit(values)) {\n    throw new InvalidPropertyError('Invalid font values at ' + formatPosition(values[0][2][0]) + '. Ignoring.');\n  }\n\n  // fuzzy match style, variant, weight, and stretch on first elements\n  while (index < fuzzyMatched) {\n    isStretchValid = validator.isFontStretchKeyword(values[index][1]) || validator.isGlobal(values[index][1]);\n    isStyleValid = validator.isFontStyleKeyword(values[index][1]) || validator.isGlobal(values[index][1]);\n    isVariantValid = validator.isFontVariantKeyword(values[index][1]) || validator.isGlobal(values[index][1]);\n    isWeightValid = validator.isFontWeightKeyword(values[index][1]) || validator.isGlobal(values[index][1]);\n\n    if (isStyleValid && !isStyleSet) {\n      style.value = [values[index]];\n      isStyleSet = true;\n    } else if (isVariantValid && !isVariantSet) {\n      variant.value = [values[index]];\n      isVariantSet = true;\n    } else if (isWeightValid && !isWeightSet) {\n      weight.value = [values[index]];\n      isWeightSet = true;\n    } else if (isStretchValid && !isStretchSet) {\n      stretch.value = [values[index]];\n      isStretchSet = true;\n    } else if (isStyleValid && isStyleSet || isVariantValid && isVariantSet || isWeightValid && isWeightSet || isStretchValid && isStretchSet) {\n      throw new InvalidPropertyError('Invalid font style / variant / weight / stretch value at ' + formatPosition(values[0][2][0]) + '. Ignoring.');\n    } else {\n      break;\n    }\n\n    index++;\n  }\n\n  // now comes font-size ...\n  if (validator.isFontSizeKeyword(values[index][1]) || validator.isUnit(values[index][1]) && !validator.isDynamicUnit(values[index][1])) {\n    size.value = [values[index]];\n    isSizeSet = true;\n    index++;\n  } else {\n    throw new InvalidPropertyError('Missing font size at ' + formatPosition(values[0][2][0]) + '. Ignoring.');\n  }\n\n  if (!values[index]) {\n    throw new InvalidPropertyError('Missing font family at ' + formatPosition(values[0][2][0]) + '. Ignoring.');\n  }\n\n  // ... and perhaps line-height\n  if (isSizeSet && values[index] && values[index][1] == Marker.FORWARD_SLASH && values[index + 1] && (validator.isLineHeightKeyword(values[index + 1][1]) || validator.isUnit(values[index + 1][1]) || validator.isNumber(values[index + 1][1]))) {\n    height.value = [values[index + 1]];\n    index++;\n    index++;\n  }\n\n  // ... and whatever comes next is font-family\n  family.value = [];\n\n  while (values[index]) {\n    if (values[index][1] == Marker.COMMA) {\n      appendableFamilyName = false;\n    } else {\n      if (appendableFamilyName) {\n        family.value[family.value.length - 1][1] += Marker.SPACE + values[index][1];\n      } else {\n        family.value.push(values[index]);\n      }\n\n      appendableFamilyName = true;\n    }\n\n    index++;\n  }\n\n  if (family.value.length === 0) {\n    throw new InvalidPropertyError('Missing font family at ' + formatPosition(values[0][2][0]) + '. Ignoring.');\n  }\n\n  return components;\n}\n\nfunction fourValues(property, compactable) {\n  var componentNames = compactable[property.name].components;\n  var components = [];\n  var value = property.value;\n\n  if (value.length < 1)\n    return [];\n\n  if (value.length < 2)\n    value[1] = value[0].slice(0);\n  if (value.length < 3)\n    value[2] = value[0].slice(0);\n  if (value.length < 4)\n    value[3] = value[1].slice(0);\n\n  for (var i = componentNames.length - 1; i >= 0; i--) {\n    var component = wrapSingle([\n      Token.PROPERTY,\n      [Token.PROPERTY_NAME, componentNames[i]]\n    ]);\n    component.value = [value[i]];\n    components.unshift(component);\n  }\n\n  return components;\n}\n\nfunction multiplex(splitWith) {\n  return function (property, compactable, validator) {\n    var splitsAt = [];\n    var values = property.value;\n    var i, j, l, m;\n\n    // find split commas\n    for (i = 0, l = values.length; i < l; i++) {\n      if (values[i][1] == ',')\n        splitsAt.push(i);\n    }\n\n    if (splitsAt.length === 0)\n      return splitWith(property, compactable, validator);\n\n    var splitComponents = [];\n\n    // split over commas, and into components\n    for (i = 0, l = splitsAt.length; i <= l; i++) {\n      var from = i === 0 ? 0 : splitsAt[i - 1] + 1;\n      var to = i < l ? splitsAt[i] : values.length;\n\n      var _property = _wrapDefault(property.name, property, compactable);\n      _property.value = values.slice(from, to);\n\n      splitComponents.push(splitWith(_property, compactable, validator));\n    }\n\n    var components = splitComponents[0];\n\n    // group component values from each split\n    for (i = 0, l = components.length; i < l; i++) {\n      components[i].multiplex = true;\n\n      for (j = 1, m = splitComponents.length; j < m; j++) {\n        components[i].value.push([Token.PROPERTY_VALUE, Marker.COMMA]);\n        Array.prototype.push.apply(components[i].value, splitComponents[j][i].value);\n      }\n    }\n\n    return components;\n  };\n}\n\nfunction listStyle(property, compactable, validator) {\n  var type = _wrapDefault('list-style-type', property, compactable);\n  var position = _wrapDefault('list-style-position', property, compactable);\n  var image = _wrapDefault('list-style-image', property, compactable);\n  var components = [type, position, image];\n\n  if (property.value.length == 1 && property.value[0][1] == 'inherit') {\n    type.value = position.value = image.value = [property.value[0]];\n    return components;\n  }\n\n  var values = property.value.slice(0);\n  var total = values.length;\n  var index = 0;\n\n  // `image` first...\n  for (index = 0, total = values.length; index < total; index++) {\n    if (validator.isUrl(values[index][1]) || values[index][1] == '0') {\n      image.value = [values[index]];\n      values.splice(index, 1);\n      break;\n    }\n  }\n\n  // ... then `position`\n  for (index = 0, total = values.length; index < total; index++) {\n    if (validator.isListStylePositionKeyword(values[index][1])) {\n      position.value = [values[index]];\n      values.splice(index, 1);\n      break;\n    }\n  }\n\n  // ... and what's left is a `type`\n  if (values.length > 0 && (validator.isListStyleTypeKeyword(values[0][1]) || validator.isIdentifier(values[0][1]))) {\n    type.value = [values[0]];\n  }\n\n  return components;\n}\n\nfunction widthStyleColor(property, compactable, validator) {\n  var descriptor = compactable[property.name];\n  var components = [\n    _wrapDefault(descriptor.components[0], property, compactable),\n    _wrapDefault(descriptor.components[1], property, compactable),\n    _wrapDefault(descriptor.components[2], property, compactable)\n  ];\n  var color, style, width;\n\n  for (var i = 0; i < 3; i++) {\n    var component = components[i];\n\n    if (component.name.indexOf('color') > 0)\n      color = component;\n    else if (component.name.indexOf('style') > 0)\n      style = component;\n    else\n      width = component;\n  }\n\n  if ((property.value.length == 1 && property.value[0][1] == 'inherit') ||\n      (property.value.length == 3 && property.value[0][1] == 'inherit' && property.value[1][1] == 'inherit' && property.value[2][1] == 'inherit')) {\n    color.value = style.value = width.value = [property.value[0]];\n    return components;\n  }\n\n  var values = property.value.slice(0);\n  var match, matches;\n\n  // NOTE: usually users don't follow the required order of parts in this shorthand,\n  // so we'll try to parse it caring as little about order as possible\n\n  if (values.length > 0) {\n    matches = values.filter(_widthFilter(validator));\n    match = matches.length > 1 && (matches[0][1] == 'none' || matches[0][1] == 'auto') ? matches[1] : matches[0];\n    if (match) {\n      width.value = [match];\n      values.splice(values.indexOf(match), 1);\n    }\n  }\n\n  if (values.length > 0) {\n    match = values.filter(_styleFilter(validator))[0];\n    if (match) {\n      style.value = [match];\n      values.splice(values.indexOf(match), 1);\n    }\n  }\n\n  if (values.length > 0) {\n    match = values.filter(_colorFilter(validator))[0];\n    if (match) {\n      color.value = [match];\n      values.splice(values.indexOf(match), 1);\n    }\n  }\n\n  return components;\n}\n\nmodule.exports = {\n  animation: animation,\n  background: background,\n  border: widthStyleColor,\n  borderRadius: borderRadius,\n  font: font,\n  fourValues: fourValues,\n  listStyle: listStyle,\n  multiplex: multiplex,\n  outline: widthStyleColor\n};\n"]}