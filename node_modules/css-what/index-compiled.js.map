{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["\"use strict\";\n\nmodule.exports = parse;\n\nvar re_name = /^(?:\\\\.|[\\w\\-\\u00c0-\\uFFFF])+/,\n    re_escape = /\\\\([\\da-f]{1,6}\\s?|(\\s)|.)/ig,\n    //modified version of https://github.com/jquery/sizzle/blob/master/src/sizzle.js#L87\n    re_attr = /^\\s*((?:\\\\.|[\\w\\u00c0-\\uFFFF\\-])+)\\s*(?:(\\S?)=\\s*(?:(['\"])(.*?)\\3|(#?(?:\\\\.|[\\w\\u00c0-\\uFFFF\\-])*)|)|)\\s*(i)?\\]/;\n\nvar actionTypes = {\n\t__proto__: null,\n\t\"undefined\": \"exists\",\n\t\"\":  \"equals\",\n\t\"~\": \"element\",\n\t\"^\": \"start\",\n\t\"$\": \"end\",\n\t\"*\": \"any\",\n\t\"!\": \"not\",\n\t\"|\": \"hyphen\"\n};\n\nvar simpleSelectors = {\n\t__proto__: null,\n\t\">\": \"child\",\n\t\"<\": \"parent\",\n\t\"~\": \"sibling\",\n\t\"+\": \"adjacent\"\n};\n\nvar attribSelectors = {\n\t__proto__: null,\n\t\"#\": [\"id\", \"equals\"],\n\t\".\": [\"class\", \"element\"]\n};\n\n//pseudos, whose data-property is parsed as well\nvar unpackPseudos = {\n\t__proto__: null,\n\t\"has\": true,\n\t\"not\": true,\n\t\"matches\": true\n};\n\nvar stripQuotesFromPseudos = {\n\t__proto__: null,\n\t\"contains\": true,\n\t\"icontains\": true\n};\n\nvar quotes = {\n\t__proto__: null,\n\t\"\\\"\": true,\n\t\"'\": true\n};\n\n//unescape function taken from https://github.com/jquery/sizzle/blob/master/src/sizzle.js#L139\nfunction funescape( _, escaped, escapedWhitespace ) {\n\tvar high = \"0x\" + escaped - 0x10000;\n\t// NaN means non-codepoint\n\t// Support: Firefox\n\t// Workaround erroneous numeric interpretation of +\"0x\"\n\treturn high !== high || escapedWhitespace ?\n\t\tescaped :\n\t\t// BMP codepoint\n\t\thigh < 0 ?\n\t\t\tString.fromCharCode( high + 0x10000 ) :\n\t\t\t// Supplemental Plane codepoint (surrogate pair)\n\t\t\tString.fromCharCode( high >> 10 | 0xD800, high & 0x3FF | 0xDC00 );\n}\n\nfunction unescapeCSS(str){\n\treturn str.replace(re_escape, funescape);\n}\n\nfunction isWhitespace(c){\n\treturn c === \" \" || c === \"\\n\" || c === \"\\t\" || c === \"\\f\" || c === \"\\r\";\n}\n\nfunction parse(selector, options){\n\tvar subselects = [];\n\n\tselector = parseSelector(subselects, selector + \"\", options);\n\n\tif(selector !== \"\"){\n\t\tthrow new SyntaxError(\"Unmatched selector: \" + selector);\n\t}\n\n\treturn subselects;\n}\n\nfunction parseSelector(subselects, selector, options){\n\tvar tokens = [],\n\t\tsawWS = false,\n\t\tdata, firstChar, name, quot;\n\n\tfunction getName(){\n\t\tvar sub = selector.match(re_name)[0];\n\t\tselector = selector.substr(sub.length);\n\t\treturn unescapeCSS(sub);\n\t}\n\n\tfunction stripWhitespace(start){\n\t\twhile(isWhitespace(selector.charAt(start))) start++;\n\t\tselector = selector.substr(start);\n\t}\n\n\tstripWhitespace(0);\n\n\twhile(selector !== \"\"){\n\t\tfirstChar = selector.charAt(0);\n\n\t\tif(isWhitespace(firstChar)){\n\t\t\tsawWS = true;\n\t\t\tstripWhitespace(1);\n\t\t} else if(firstChar in simpleSelectors){\n\t\t\ttokens.push({type: simpleSelectors[firstChar]});\n\t\t\tsawWS = false;\n\n\t\t\tstripWhitespace(1);\n\t\t} else if(firstChar === \",\"){\n\t\t\tif(tokens.length === 0){\n\t\t\t\tthrow new SyntaxError(\"empty sub-selector\");\n\t\t\t}\n\t\t\tsubselects.push(tokens);\n\t\t\ttokens = [];\n\t\t\tsawWS = false;\n\t\t\tstripWhitespace(1);\n\t\t} else {\n\t\t\tif(sawWS){\n\t\t\t\tif(tokens.length > 0){\n\t\t\t\t\ttokens.push({type: \"descendant\"});\n\t\t\t\t}\n\t\t\t\tsawWS = false;\n\t\t\t}\n\n\t\t\tif(firstChar === \"*\"){\n\t\t\t\tselector = selector.substr(1);\n\t\t\t\ttokens.push({type: \"universal\"});\n\t\t\t} else if(firstChar in attribSelectors){\n\t\t\t\tselector = selector.substr(1);\n\t\t\t\ttokens.push({\n\t\t\t\t\ttype: \"attribute\",\n\t\t\t\t\tname: attribSelectors[firstChar][0],\n\t\t\t\t\taction: attribSelectors[firstChar][1],\n\t\t\t\t\tvalue: getName(),\n\t\t\t\t\tignoreCase: false\n\t\t\t\t});\n\t\t\t} else if(firstChar === \"[\"){\n\t\t\t\tselector = selector.substr(1);\n\t\t\t\tdata = selector.match(re_attr);\n\t\t\t\tif(!data){\n\t\t\t\t\tthrow new SyntaxError(\"Malformed attribute selector: \" + selector);\n\t\t\t\t}\n\t\t\t\tselector = selector.substr(data[0].length);\n\t\t\t\tname = unescapeCSS(data[1]);\n\n\t\t\t\tif(\n\t\t\t\t\t!options || (\n\t\t\t\t\t\t\"lowerCaseAttributeNames\" in options ?\n\t\t\t\t\t\t\toptions.lowerCaseAttributeNames :\n\t\t\t\t\t\t\t!options.xmlMode\n\t\t\t\t\t)\n\t\t\t\t){\n\t\t\t\t\tname = name.toLowerCase();\n\t\t\t\t}\n\n\t\t\t\ttokens.push({\n\t\t\t\t\ttype: \"attribute\",\n\t\t\t\t\tname: name,\n\t\t\t\t\taction: actionTypes[data[2]],\n\t\t\t\t\tvalue: unescapeCSS(data[4] || data[5] || \"\"),\n\t\t\t\t\tignoreCase: !!data[6]\n\t\t\t\t});\n\n\t\t\t} else if(firstChar === \":\"){\n\t\t\t\tif(selector.charAt(1) === \":\"){\n\t\t\t\t\tselector = selector.substr(2);\n\t\t\t\t\ttokens.push({type: \"pseudo-element\", name: getName().toLowerCase()});\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tselector = selector.substr(1);\n\n\t\t\t\tname = getName().toLowerCase();\n\t\t\t\tdata = null;\n\n\t\t\t\tif(selector.charAt(0) === \"(\"){\n\t\t\t\t\tif(name in unpackPseudos){\n\t\t\t\t\t\tquot = selector.charAt(1);\n\t\t\t\t\t\tvar quoted = quot in quotes;\n\n\t\t\t\t\t\tselector = selector.substr(quoted + 1);\n\n\t\t\t\t\t\tdata = [];\n\t\t\t\t\t\tselector = parseSelector(data, selector, options);\n\n\t\t\t\t\t\tif(quoted){\n\t\t\t\t\t\t\tif(selector.charAt(0) !== quot){\n\t\t\t\t\t\t\t\tthrow new SyntaxError(\"unmatched quotes in :\" + name);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tselector = selector.substr(1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif(selector.charAt(0) !== \")\"){\n\t\t\t\t\t\t\tthrow new SyntaxError(\"missing closing parenthesis in :\" + name + \" \" + selector);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tselector = selector.substr(1);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar pos = 1, counter = 1;\n\n\t\t\t\t\t\tfor(; counter > 0 && pos < selector.length; pos++){\n\t\t\t\t\t\t\tif(selector.charAt(pos) === \"(\") counter++;\n\t\t\t\t\t\t\telse if(selector.charAt(pos) === \")\") counter--;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif(counter){\n\t\t\t\t\t\t\tthrow new SyntaxError(\"parenthesis not matched\");\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tdata = selector.substr(1, pos - 2);\n\t\t\t\t\t\tselector = selector.substr(pos);\n\n\t\t\t\t\t\tif(name in stripQuotesFromPseudos){\n\t\t\t\t\t\t\tquot = data.charAt(0);\n\n\t\t\t\t\t\t\tif(quot === data.slice(-1) && quot in quotes){\n\t\t\t\t\t\t\t\tdata = data.slice(1, -1);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tdata = unescapeCSS(data);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\ttokens.push({type: \"pseudo\", name: name, data: data});\n\t\t\t} else if(re_name.test(selector)){\n\t\t\t\tname = getName();\n\n\t\t\t\tif(!options || (\"lowerCaseTags\" in options ? options.lowerCaseTags : !options.xmlMode)){\n\t\t\t\t\tname = name.toLowerCase();\n\t\t\t\t}\n\n\t\t\t\ttokens.push({type: \"tag\", name: name});\n\t\t\t} else {\n\t\t\t\tif(tokens.length && tokens[tokens.length - 1].type === \"descendant\"){\n\t\t\t\t\ttokens.pop();\n\t\t\t\t}\n\t\t\t\taddToken(subselects, tokens);\n\t\t\t\treturn selector;\n\t\t\t}\n\t\t}\n\t}\n\n\taddToken(subselects, tokens);\n\n\treturn selector;\n}\n\nfunction addToken(subselects, tokens){\n\tif(subselects.length > 0 && tokens.length === 0){\n\t\tthrow new SyntaxError(\"empty sub-selector\");\n\t}\n\n\tsubselects.push(tokens);\n}\n"]}