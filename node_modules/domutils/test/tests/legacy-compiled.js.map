{"version":3,"sources":["legacy.js"],"names":[],"mappings":"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","file":"legacy-compiled.js","sourcesContent":["var DomUtils = require(\"../..\");\nvar fixture = require(\"../fixture\");\nvar assert = require(\"assert\");\n\n// Set up expected structures\nvar expected = {\n\tidAsdf: fixture[1],\n\ttag2: [],\n\ttypeScript: []\n};\nfor (var idx = 0; idx < 20; ++idx) {\n\texpected.tag2.push(fixture[idx*2 + 1].children[5]);\n\texpected.typeScript.push(fixture[idx*2 + 1].children[1]);\n}\n\ndescribe(\"legacy\", function() {\n\tdescribe(\"getElements\", function() {\n\t\tvar getElements = DomUtils.getElements;\n\t\tit(\"returns the node with the specified ID\", function() {\n\t\t\tassert.deepEqual(\n\t\t\t\tgetElements({ id: \"asdf\" }, fixture, true, 1),\n\t\t\t\t[expected.idAsdf]\n\t\t\t);\n\t\t});\n\t\tit(\"returns empty array for unknown IDs\", function() {\n\t\t\tassert.deepEqual(getElements({ id: \"asdfs\" }, fixture, true), []);\n\t\t});\n\t\tit(\"returns the nodes with the specified tag name\", function() {\n\t\t\tassert.deepEqual(\n\t\t\t\tgetElements({ tag_name:\"tag2\" }, fixture, true),\n\t\t\t\texpected.tag2\n\t\t\t);\n\t\t});\n\t\tit(\"returns empty array for unknown tag names\", function() {\n\t\t\tassert.deepEqual(\n\t\t\t\tgetElements({ tag_name : \"asdfs\" }, fixture, true),\n\t\t\t\t[]\n\t\t\t);\n\t\t});\n\t\tit(\"returns the nodes with the specified tag type\", function() {\n\t\t\tassert.deepEqual(\n\t\t\t\tgetElements({ tag_type: \"script\" }, fixture, true),\n\t\t\t\texpected.typeScript\n\t\t\t);\n\t\t});\n\t\tit(\"returns empty array for unknown tag types\", function() {\n\t\t\tassert.deepEqual(\n\t\t\t\tgetElements({ tag_type: \"video\" }, fixture, true),\n\t\t\t\t[]\n\t\t\t);\n\t\t});\n\t});\n\n\tdescribe(\"getElementById\", function() {\n\t\tvar getElementById = DomUtils.getElementById;\n\t\tit(\"returns the specified node\", function() {\n\t\t\tassert.equal(\n\t\t\t\texpected.idAsdf,\n\t\t\t\tgetElementById(\"asdf\", fixture, true)\n\t\t\t);\n\t\t});\n\t\tit(\"returns `null` for unknown IDs\", function() {\n\t\t\tassert.equal(null, getElementById(\"asdfs\", fixture, true));\n\t\t});\n\t});\n\n\tdescribe(\"getElementsByTagName\", function() {\n\t\tvar getElementsByTagName = DomUtils.getElementsByTagName;\n\t\tit(\"returns the specified nodes\", function() {\n\t\t\tassert.deepEqual(\n\t\t\t\tgetElementsByTagName(\"tag2\", fixture, true),\n\t\t\t\texpected.tag2\n\t\t\t);\n\t\t});\n\t\tit(\"returns empty array for unknown tag names\", function() {\n\t\t\tassert.deepEqual(\n\t\t\t\tgetElementsByTagName(\"tag23\", fixture, true),\n\t\t\t\t[]\n\t\t\t);\n\t\t});\n\t});\n\n\tdescribe(\"getElementsByTagType\", function() {\n\t\tvar getElementsByTagType = DomUtils.getElementsByTagType;\n\t\tit(\"returns the specified nodes\", function() {\n\t\t\tassert.deepEqual(\n\t\t\t\tgetElementsByTagType(\"script\", fixture, true),\n\t\t\t\texpected.typeScript\n\t\t\t);\n\t\t});\n\t\tit(\"returns empty array for unknown tag types\", function() {\n\t\t\tassert.deepEqual(\n\t\t\t\tgetElementsByTagType(\"video\", fixture, true),\n\t\t\t\t[]\n\t\t\t);\n\t\t});\n\t});\n\n\tdescribe(\"getOuterHTML\", function() {\n\t\tvar getOuterHTML = DomUtils.getOuterHTML;\n\t\tit(\"Correctly renders the outer HTML\", function() {\n\t\t\tassert.equal(\n\t\t\t\tgetOuterHTML(fixture[1]),\n\t\t\t\t\"<tag1 id=\\\"asdf\\\"> <script>text</script> <!-- comment --> <tag2> text </tag2></tag1>\"\n\t\t\t);\n\t\t});\n\t});\n\n\tdescribe(\"getInnerHTML\", function() {\n\t\tvar getInnerHTML = DomUtils.getInnerHTML;\n\t\tit(\"Correctly renders the inner HTML\", function() {\n\t\t\tassert.equal(\n\t\t\t\tgetInnerHTML(fixture[1]),\n\t\t\t\t\" <script>text</script> <!-- comment --> <tag2> text </tag2>\"\n\t\t\t);\n\t\t});\n\t});\n\n});\n"]}