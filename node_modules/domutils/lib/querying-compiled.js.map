{"version":3,"sources":["querying.js"],"names":[],"mappings":"AAAA,IAAI,QAAQ,QAAQ,gBAAR,EAA0B,KAAtC;;AAEA,OAAO,OAAP,GAAiB;AAChB,SAAQ,MADQ;AAEhB,OAAM,IAFU;AAGhB,eAAc,YAHE;AAIhB,UAAS,OAJO;AAKhB,YAAW,SALK;AAMhB,UAAS;AANO,CAAjB;;AASA,SAAS,MAAT,CAAgB,IAAhB,EAAsB,OAAtB,EAA+B,OAA/B,EAAwC,KAAxC,EAA8C;AAC7C,KAAG,CAAC,MAAM,OAAN,CAAc,OAAd,CAAJ,EAA4B,UAAU,CAAC,OAAD,CAAV;;AAE5B,KAAG,OAAO,KAAP,KAAiB,QAAjB,IAA6B,CAAC,SAAS,KAAT,CAAjC,EAAiD;AAChD,UAAQ,QAAR;AACA;AACD,QAAO,KAAK,IAAL,EAAW,OAAX,EAAoB,YAAY,KAAhC,EAAuC,KAAvC,CAAP;AACA;;AAED,SAAS,IAAT,CAAc,IAAd,EAAoB,KAApB,EAA2B,OAA3B,EAAoC,KAApC,EAA0C;AACzC,KAAI,SAAS,EAAb;AAAA,KAAiB,MAAjB;;AAEA,MAAI,IAAI,IAAI,CAAR,EAAW,IAAI,MAAM,MAAzB,EAAiC,IAAI,CAArC,EAAwC,GAAxC,EAA4C;AAC3C,MAAG,KAAK,MAAM,CAAN,CAAL,CAAH,EAAkB;AACjB,UAAO,IAAP,CAAY,MAAM,CAAN,CAAZ;AACA,OAAG,EAAE,KAAF,IAAW,CAAd,EAAiB;AACjB;;AAED,WAAS,MAAM,CAAN,EAAS,QAAlB;AACA,MAAG,WAAW,MAAX,IAAqB,OAAO,MAAP,GAAgB,CAAxC,EAA0C;AACzC,YAAS,KAAK,IAAL,EAAW,MAAX,EAAmB,OAAnB,EAA4B,KAA5B,CAAT;AACA,YAAS,OAAO,MAAP,CAAc,MAAd,CAAT;AACA,YAAS,OAAO,MAAhB;AACA,OAAG,SAAS,CAAZ,EAAe;AACf;AACD;;AAED,QAAO,MAAP;AACA;;AAED,SAAS,YAAT,CAAsB,IAAtB,EAA4B,KAA5B,EAAkC;AACjC,MAAI,IAAI,IAAI,CAAR,EAAW,IAAI,MAAM,MAAzB,EAAiC,IAAI,CAArC,EAAwC,GAAxC,EAA4C;AAC3C,MAAG,KAAK,MAAM,CAAN,CAAL,CAAH,EAAmB,OAAO,MAAM,CAAN,CAAP;AACnB;;AAED,QAAO,IAAP;AACA;;AAED,SAAS,OAAT,CAAiB,IAAjB,EAAuB,KAAvB,EAA6B;AAC5B,KAAI,OAAO,IAAX;;AAEA,MAAI,IAAI,IAAI,CAAR,EAAW,IAAI,MAAM,MAAzB,EAAiC,IAAI,CAAJ,IAAS,CAAC,IAA3C,EAAiD,GAAjD,EAAqD;AACpD,MAAG,CAAC,MAAM,MAAM,CAAN,CAAN,CAAJ,EAAoB;AACnB;AACA,GAFD,MAEO,IAAG,KAAK,MAAM,CAAN,CAAL,CAAH,EAAkB;AACxB,UAAO,MAAM,CAAN,CAAP;AACA,GAFM,MAEA,IAAG,MAAM,CAAN,EAAS,QAAT,CAAkB,MAAlB,GAA2B,CAA9B,EAAgC;AACtC,UAAO,QAAQ,IAAR,EAAc,MAAM,CAAN,EAAS,QAAvB,CAAP;AACA;AACD;;AAED,QAAO,IAAP;AACA;;AAED,SAAS,SAAT,CAAmB,IAAnB,EAAyB,KAAzB,EAA+B;AAC9B,MAAI,IAAI,IAAI,CAAR,EAAW,IAAI,MAAM,MAAzB,EAAiC,IAAI,CAArC,EAAwC,GAAxC,EAA4C;AAC3C,MACC,MAAM,MAAM,CAAN,CAAN,MACC,KAAK,MAAM,CAAN,CAAL,KACC,MAAM,CAAN,EAAS,QAAT,CAAkB,MAAlB,GAA2B,CAA3B,IACA,UAAU,IAAV,EAAgB,MAAM,CAAN,EAAS,QAAzB,CAHF,CADD,EAOC;AACA,UAAO,IAAP;AACA;AACD;;AAED,QAAO,KAAP;AACA;;AAED,SAAS,OAAT,CAAiB,IAAjB,EAAuB,KAAvB,EAA6B;AAC5B,KAAI,SAAS,EAAb;AACA,MAAI,IAAI,IAAI,CAAR,EAAW,IAAI,MAAM,MAAzB,EAAiC,IAAI,CAArC,EAAwC,GAAxC,EAA4C;AAC3C,MAAG,CAAC,MAAM,MAAM,CAAN,CAAN,CAAJ,EAAqB;AACrB,MAAG,KAAK,MAAM,CAAN,CAAL,CAAH,EAAmB,OAAO,IAAP,CAAY,MAAM,CAAN,CAAZ;;AAEnB,MAAG,MAAM,CAAN,EAAS,QAAT,CAAkB,MAAlB,GAA2B,CAA9B,EAAgC;AAC/B,YAAS,OAAO,MAAP,CAAc,QAAQ,IAAR,EAAc,MAAM,CAAN,EAAS,QAAvB,CAAd,CAAT;AACA;AACD;AACD,QAAO,MAAP;AACA","file":"querying-compiled.js","sourcesContent":["var isTag = require(\"domelementtype\").isTag;\n\nmodule.exports = {\n\tfilter: filter,\n\tfind: find,\n\tfindOneChild: findOneChild,\n\tfindOne: findOne,\n\texistsOne: existsOne,\n\tfindAll: findAll\n};\n\nfunction filter(test, element, recurse, limit){\n\tif(!Array.isArray(element)) element = [element];\n\n\tif(typeof limit !== \"number\" || !isFinite(limit)){\n\t\tlimit = Infinity;\n\t}\n\treturn find(test, element, recurse !== false, limit);\n}\n\nfunction find(test, elems, recurse, limit){\n\tvar result = [], childs;\n\n\tfor(var i = 0, j = elems.length; i < j; i++){\n\t\tif(test(elems[i])){\n\t\t\tresult.push(elems[i]);\n\t\t\tif(--limit <= 0) break;\n\t\t}\n\n\t\tchilds = elems[i].children;\n\t\tif(recurse && childs && childs.length > 0){\n\t\t\tchilds = find(test, childs, recurse, limit);\n\t\t\tresult = result.concat(childs);\n\t\t\tlimit -= childs.length;\n\t\t\tif(limit <= 0) break;\n\t\t}\n\t}\n\n\treturn result;\n}\n\nfunction findOneChild(test, elems){\n\tfor(var i = 0, l = elems.length; i < l; i++){\n\t\tif(test(elems[i])) return elems[i];\n\t}\n\n\treturn null;\n}\n\nfunction findOne(test, elems){\n\tvar elem = null;\n\n\tfor(var i = 0, l = elems.length; i < l && !elem; i++){\n\t\tif(!isTag(elems[i])){\n\t\t\tcontinue;\n\t\t} else if(test(elems[i])){\n\t\t\telem = elems[i];\n\t\t} else if(elems[i].children.length > 0){\n\t\t\telem = findOne(test, elems[i].children);\n\t\t}\n\t}\n\n\treturn elem;\n}\n\nfunction existsOne(test, elems){\n\tfor(var i = 0, l = elems.length; i < l; i++){\n\t\tif(\n\t\t\tisTag(elems[i]) && (\n\t\t\t\ttest(elems[i]) || (\n\t\t\t\t\telems[i].children.length > 0 &&\n\t\t\t\t\texistsOne(test, elems[i].children)\n\t\t\t\t)\n\t\t\t)\n\t\t){\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n}\n\nfunction findAll(test, elems){\n\tvar result = [];\n\tfor(var i = 0, j = elems.length; i < j; i++){\n\t\tif(!isTag(elems[i])) continue;\n\t\tif(test(elems[i])) result.push(elems[i]);\n\n\t\tif(elems[i].children.length > 0){\n\t\t\tresult = result.concat(findAll(test, elems[i].children));\n\t\t}\n\t}\n\treturn result;\n}\n"]}