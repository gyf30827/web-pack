{"version":3,"sources":["test.js"],"names":[],"mappings":"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","file":"test-compiled.js","sourcesContent":["var nthCheck = require(\"./\"),\n    assert = require(\"assert\");\n\nvar invalid = [\"-\", \"asdf\", \"2n+-0\", \"2+0\", \"- 1n\", \"-1 n\"];\n\nfunction parseInvalid(){\n\tinvalid.forEach(function(formula){\n\t\tassert.throws(function(){\n\t\t\t\tnthCheck.parse(formula);\n\t\t\t},\n\t\t\tSyntaxError,\n\t\t\tformula\n\t\t);\n\t});\n}\n\nvar valid = {\n\t\"1\": [ 0, 1 ],\n\t\"2\": [ 0, 2 ],\n\t\"3\": [ 0, 3 ],\n\t\"5\": [ 0, 5 ],\n\t\" 1 \": [ 0, 1 ],\n\t\" 5 \": [ 0, 5 ],\n\t\"+2n + 1\": [ 2, 1 ],\n\t\"-1\": [ 0, -1 ],\n\t\"-1n + 3\": [ -1, 3 ],\n\t\"-1n+3\": [ -1, 3 ],\n\t\"-n+2\": [ -1, 2 ],\n\t\"-n+3\": [ -1, 3 ],\n\t\"0n+3\": [ 0, 3 ],\n\t\"1n\": [ 1, 0 ],\n\t\"1n+0\": [ 1, 0 ],\n\t\"2n\": [ 2, 0 ],\n\t\"2n + 1\": [ 2, 1 ],\n\t\"2n+1\": [ 2, 1 ],\n\t\"3n\": [ 3, 0 ],\n\t\"3n+0\": [ 3, 0 ],\n\t\"3n+1\": [ 3, 1 ],\n\t\"3n+2\": [ 3, 2 ],\n\t\"3n+3\": [ 3, 3 ],\n\t\"3n-1\": [ 3, -1 ],\n\t\"3n-2\": [ 3, -2 ],\n\t\"3n-3\": [ 3, -3 ],\n\teven: [ 2, 0 ],\n\tn: [ 1, 0 ],\n\t\"n+2\": [ 1, 2 ],\n\todd: [ 2, 1 ],\n\n\t//surprisingly, neither sizzle, qwery or nwmatcher cover these cases\n\t\"-4n+13\": [-4, 13],\n\t\"-2n + 12\": [-2, 12]\n};\n\nfunction parseValid(){\n\tObject.keys(valid).forEach(function(formula){\n\t\tassert.deepEqual(nthCheck.parse(formula), valid[formula], formula);\n\t});\n}\n\nfunction testValid(){\n\tObject.keys(valid).forEach(function(formula){\n\t\ttestFormula(valid[formula], formula);\n\t});\n}\n\nvar valArray = Array.apply(null, Array(2e3)).map(function(_, i){return i;});\n\nfunction testFormula(formula, name){\n\tvar filtered = valArray.filter(nthCheck.compile(formula)),\n\t    iterated = stupidNth(formula);\n\n\ttry {\n\t\tassert.deepEqual(filtered, iterated, name);\n\t} catch(e){\n\t\te.expected = JSON.stringify(iterated) + \" \" + name;\n\t\te.actual = JSON.stringify(filtered) + \" \" + name;\n\t\tthrow e;\n\t}\n}\n\nfunction stupidNth(formula, limit){\n\tvar a = formula[0],\n\t    b = formula[1];\n\n\tif(a === 0 && b > 0) return [b - 1];\n\n\t//taken from qwery\n\treturn valArray.filter(function(val){\n\t\tfor(var i = b, l = valArray.length; ((a > 0) ? (i <= l) : (i >= 1)); i += a){\n\t\t\tif(val === valArray[i - 1]) return true;\n\t\t}\n\t});\n}\n\nprocess.stdout.write(\"- parser\");\nprocess.stdout.write(\"\\n  - parse invalid:\\t\");\nparseInvalid();\nprocess.stdout.write(\"X\\n  - parse valid:\\t\");\nparseValid();\nprocess.stdout.write(\"X\\n- check values:  \\t\");\ntestValid();\nprocess.stdout.write(\"X\\n\");\n"]}