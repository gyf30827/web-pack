{"version":3,"sources":["parse.js"],"names":[],"mappings":"AAAA,OAAO,OAAP,GAAiB,KAAjB;;AAEA;;AAEA;AACA,IAAI,gBAAgB,yCAApB;;AAEA;;;AAGA,SAAS,KAAT,CAAe,OAAf,EAAuB;AACtB,WAAU,QAAQ,IAAR,GAAe,WAAf,EAAV;;AAEA,KAAG,YAAY,MAAf,EAAsB;AACrB,SAAO,CAAC,CAAD,EAAI,CAAJ,CAAP;AACA,EAFD,MAEO,IAAG,YAAY,KAAf,EAAqB;AAC3B,SAAO,CAAC,CAAD,EAAI,CAAJ,CAAP;AACA,EAFM,MAEA;AACN,MAAI,SAAS,QAAQ,KAAR,CAAc,aAAd,CAAb;;AAEA,MAAG,CAAC,MAAJ,EAAW;AACV,SAAM,IAAI,WAAJ,CAAgB,oCAAoC,OAApC,GAA8C,IAA9D,CAAN;AACA;;AAED,MAAI,CAAJ;;AAEA,MAAG,OAAO,CAAP,CAAH,EAAa;AACZ,OAAI,SAAS,OAAO,CAAP,CAAT,EAAoB,EAApB,CAAJ;AACA,OAAG,MAAM,CAAN,CAAH,EAAY;AACX,QAAG,OAAO,CAAP,EAAU,MAAV,CAAiB,CAAjB,MAAwB,GAA3B,EAAgC,IAAI,CAAC,CAAL,CAAhC,KACK,IAAI,CAAJ;AACL;AACD,GAND,MAMO,IAAI,CAAJ;;AAEP,SAAO,CACN,CADM,EAEN,OAAO,CAAP,IAAY,SAAS,CAAC,OAAO,CAAP,KAAa,EAAd,IAAoB,OAAO,CAAP,CAA7B,EAAwC,EAAxC,CAAZ,GAA0D,CAFpD,CAAP;AAIA;AACD","file":"parse-compiled.js","sourcesContent":["module.exports = parse;\n\n//following http://www.w3.org/TR/css3-selectors/#nth-child-pseudo\n\n//[ ['-'|'+']? INTEGER? {N} [ S* ['-'|'+'] S* INTEGER ]?\nvar re_nthElement = /^([+\\-]?\\d*n)?\\s*(?:([+\\-]?)\\s*(\\d+))?$/;\n\n/*\n\tparses a nth-check formula, returns an array of two numbers\n*/\nfunction parse(formula){\n\tformula = formula.trim().toLowerCase();\n\n\tif(formula === \"even\"){\n\t\treturn [2, 0];\n\t} else if(formula === \"odd\"){\n\t\treturn [2, 1];\n\t} else {\n\t\tvar parsed = formula.match(re_nthElement);\n\n\t\tif(!parsed){\n\t\t\tthrow new SyntaxError(\"n-th rule couldn't be parsed ('\" + formula + \"')\");\n\t\t}\n\n\t\tvar a;\n\n\t\tif(parsed[1]){\n\t\t\ta = parseInt(parsed[1], 10);\n\t\t\tif(isNaN(a)){\n\t\t\t\tif(parsed[1].charAt(0) === \"-\") a = -1;\n\t\t\t\telse a = 1;\n\t\t\t}\n\t\t} else a = 0;\n\n\t\treturn [\n\t\t\ta,\n\t\t\tparsed[3] ? parseInt((parsed[2] || \"\") + parsed[3], 10) : 0\n\t\t];\n\t}\n}\n"]}